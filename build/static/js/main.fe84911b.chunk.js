(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),u=n(11),r=n.n(u),c=n(2),i=n(3),l=n.n(i),s="/api/persons",m=function(){return l.a.get(s).then(function(e){return e.data})},f=function(e){return l.a.post(s,e).then(function(e){return e.data})},d=function(e,t){return l.a.put("".concat(s,"/").concat(e),t).then(function(e){return e.data})},p=function(e){return l.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})},h=function(e){return e.preventDefault()},b=function(e,t){return o.a.createElement("form",{onSubmit:h},"Rajaa n\xe4ytett\xe4vi\xe4:",o.a.createElement("input",{value:e,onChange:t}))},v=function(e,t,n,a,u){return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:e},o.a.createElement("div",null,"nimi: ",o.a.createElement("input",{value:t,onChange:n})),o.a.createElement("div",null,"numero: ",o.a.createElement("input",{value:a,onChange:u})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},j=function(e,t,n){var a=t.toUpperCase();return e.filter(function(e){return e.name.toUpperCase().includes(a)}).map(function(e){return o.a.createElement("div",{key:e.name},e.name," ",e.number,o.a.createElement("button",{onClick:function(){return n(e)}},"poista"))})},g={success:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},fail:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},y=function(e,t){return null===e?null:t?o.a.createElement("div",{className:"success",style:g.success},e):o.a.createElement("div",{className:"success",style:g.fail},e)},E=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],r=Object(a.useState)(""),i=Object(c.a)(r,2),l=i[0],s=i[1],h=Object(a.useState)(""),g=Object(c.a)(h,2),E=g[0],O=g[1],w=Object(a.useState)(""),S=Object(c.a)(w,2),k=S[0],C=S[1],N=Object(a.useState)(null),K=Object(c.a)(N,2),R=K[0],B=K[1],D=Object(a.useState)(null),P=Object(c.a)(D,2),z=P[0],J=P[1];Object(a.useEffect)(function(){L()},[]);var L=function(){m().then(function(e){u(e)}).catch(function(e){return T("Tietojen haku ep\xe4onnistui",!1)})},T=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];B(e),J(t),setTimeout(function(){B(null),J(null)},8e3)};return o.a.createElement("div",null,o.a.createElement("h1",null,"Puhelinluettelo"),o.a.createElement("div",null,y(R,z)),b(k,function(e){C(e.target.value)}),o.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),v(function(e){e.preventDefault();var t={name:l,number:E};if(n.some(function(e){return e.name===l})){var a=n.find(function(e){return e.name===l}),o=Object.assign(a,t);window.confirm("Do you want to update ".concat(l," with number ").concat(E,"?"))&&d(a.id,t).then(function(){u(n.map(function(e){return e.name===l?o:e})),s(""),O(""),T("K\xe4ytt\xe4j\xe4n ".concat(l," puhelinnumero p\xe4ivitetty"))}).catch(function(e){T("P\xe4ivitys ep\xe4onnistui. K\xe4ytt\xe4j\xe4 ".concat(l," on jo poistettu puhelinluettelosta."),!1),u(n.filter(function(e){return e.name!==l}))})}else n.some(function(e){return e.number===E})?T("Numero ".concat(E," on jo puhelinluettelossa."),!1):""===l||""===E?T("Nimi ja numero eiv\xe4t saa olla tyhji\xe4",!1):(f(t).then(function(e){u(n.concat(e)),s(""),O(""),T("K\xe4ytt\xe4j\xe4 ".concat(l," on lis\xe4tty puhelinluetteloon"))}).catch(function(e){return console.log(e.response.data.error),T("Numeron lis\xe4ys ep\xe4onnistui. Lis\xe4tiedot virheest\xe4: ".concat(e.response.data.error),!1)}),L())},l,function(e){s(e.target.value)},E,function(e){O(e.target.value)}),o.a.createElement("h2",null,"Numerot"),j(n,k,function(e){window.confirm("Remove ".concat(e.name,"?"))&&p(e.id).then(function(){u(n.filter(function(t){return t.id!==e.id})),T("K\xe4ytt\xe4j\xe4 ".concat(e.name," on poistettu puhelinluettelosta"))}).catch(function(t){T("Poisto ep\xe4onnistui. K\xe4ytt\xe4j\xe4 ".concat(e.name," on jo poistettu puhelinluettelosta."),!1),console.log("id already removed (or other problem)"),L()})}))};r.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.fe84911b.chunk.js.map